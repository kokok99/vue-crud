import{_ as h,o as i,c as d,a as t,w as l,v as u,b as p,d as m,F as y,r as b,t as r}from"./index.d3f2485b.js";const _={name:"App",data(){return{student:{},students:[]}},async created(){await this.getStudents()},methods:{submitForm(){this.student.id===void 0?this.createStudent():this.editStudent()},async getStudents(){var o=await fetch("https://backendcrud.pythonanywhere.com/api/students/");this.students=await o.json()},async createStudent(){await this.getStudents(),await fetch("https://backendcrud.pythonanywhere.com/api/students/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.student)}),await this.getStudents()},async editStudent(){await this.getStudents(),await fetch(`https://backendcrud.pythonanywhere.com/api/students/${this.student.id}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.student)}),await this.getStudents(),this.student={}},async deleteStudent(o){await this.getStudents(),await fetch(`https://backendcrud.pythonanywhere.com/api/students/${o.id}/`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.student)}),await this.getStudents(),this.student={}}}},f={class:"about-page"},g=t("h1",null,"CRUD",-1),w={class:"form-row"},S={class:"col"},k={class:"col"},v={class:"col"},C=t("button",{class:"btn btn-primary"},"Submit",-1),D=t("br",null,null,-1),x={class:"table"},T=t("thead",null,[t("th",null,"Name"),t("th",null,"Course"),t("th",null,"Rating"),t("th",null,"Delete")],-1),N=["onDblclick"],U=["onClick"];function F(o,s,V,j,n,a){return i(),d("main",f,[g,t("form",{onSubmit:s[3]||(s[3]=p((...e)=>a.submitForm&&a.submitForm(...e),["prevent"]))},[t("div",w,[t("div",S,[l(t("input",{type:"text",class:"form-control",placeholder:"name","onUpdate:modelValue":s[0]||(s[0]=e=>n.student.name=e)},null,512),[[u,n.student.name]])]),t("div",k,[l(t("input",{type:"text",class:"form-control",placeholder:"course","onUpdate:modelValue":s[1]||(s[1]=e=>n.student.course=e)},null,512),[[u,n.student.course]])]),t("div",v,[l(t("input",{type:"text",class:"form-control",placeholder:"rating","onUpdate:modelValue":s[2]||(s[2]=e=>n.student.rating=e)},null,512),[[u,n.student.rating]])]),C])],32),m(),D,t("table",x,[T,t("tbody",null,[(i(!0),d(y,null,b(n.students,e=>(i(),d("tr",{key:e.id,onDblclick:c=>o.$data.student=e},[t("td",null,r(e.name),1),t("td",null,r(e.course),1),t("td",null,r(e.rating),1),t("td",null,[t("button",{class:"btn btn-outline-danger btn-sm",onClick:c=>a.deleteStudent(e)},"X",8,U)])],40,N))),128))])])])}const B=h(_,[["render",F]]);export{B as default};
